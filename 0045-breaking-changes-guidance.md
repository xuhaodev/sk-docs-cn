
# 重大更改指南

## 上下文和问题陈述

我们必须避免在 .Net 中发生重大更改，因为存在众所周知的 [菱形依赖项问题](https://learn.microsoft.com/en-us/dotnet/standard/library-guidance/dependencies#diamond-dependencies) ，即同一包的不同版本之间的重大更改会导致运行时出现错误和异常。

## 决策驱动因素

仅在以下情况下允许中断性变更：

- 对实验性功能的更新，即我们学到了一些新东西，需要修改实验性功能的设计。
- 当我们的依赖项之一引入了不可避免的中断性变更时。

所有重大更改都必须清楚地记录在内，绝对在发行说明中，也可能通过迁移指南 博客文章。

- 在 PR 描述中包含重大更改的详细描述，以便将其包含在发行说明中。
- 更新 Learn 站点迁移指南文档，并发布此文档，以便与包含重大更改的版本保持一致。

在所有其他情况下，我们必须避免中断更改。在某些情况下，我们需要移动以适应对我们的依赖项之一的更改或引入新功能，例如

- 当我们发现安全问题或严重错误（例如数据丢失）时。
- 我们的一个依赖项引入了一个重大的突破性变化，例如引入了新的 OpenAI SDK。
- 当我们在当前实现中发现严重限制时，例如，当 AI 服务引入新功能时。

在这些情况下，我们将计划过时 API，并提供到新首选模式的记录迁移路径。
这方面的一个例子是切换到新的 OpenAI .Net SDK。
在此过渡期间，将支持新旧 API 以允许客户迁移。

## 决策结果

所选选项：由于众所周知的菱形依赖项问题，我们必须避免在 .Net 中中断更改。
